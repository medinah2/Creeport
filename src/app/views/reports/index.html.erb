<p id="notice"><%= notice %></p>

<h1>Reports</h1>
<p>Click on a column to sort the data in ascending order based on the column selected.</p>
<div class="media">
  <div class="media-body">
    <table class = "table table-striped table-bordered">
      <thead>
        <tr>
          <th><%= sortable "report_type", "Type of Report" %></th>

          <% if current_user && current_user.admin %> 
            <th><%= sortable "accused_student", "Accused Student" %></th>
          <% end %>

            <th><%= sortable "date_of_event", "Date of Event" %></th>
            <th><%= sortable "date_submitted", "Date Submitted" %></th>

          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @reports.each do |report| %>
          <tr>
            <td><%= report.report_type %></td>

            <% if current_user && current_user.admin %> 
            <td><%= report.accused_student %></td>
            <% end %>
            
            <td><%= report.date_of_event.strftime("%m/%d/%y") %></td>

            <td><%= report.date_submitted %></td>

            <% if current_user && current_user.admin %> 

            <td><%= link_to 'Show', report, class: 'btn btn-mini' %></td>
            <td><%= link_to 'Edit', edit_report_path(report), class: 'btn btn-mini btn-success' %></td>
            <td><%= link_to 'Destroy', report, method: :delete, class: 'btn btn-mini btn-danger', data: { confirm: 'Are you sure?' } %></td>
          </tr>
          <% end %>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
<br>

<%= link_to 'New Report', new_report_path, class: 'btn btn-mini' %>
